{"version":3,"sources":["uni-app:///main.js","webpack:///E:/P11/home-work/Home-work/HBX-01/deu-hbx/pages/login/login.vue?208e","webpack:///E:/P11/home-work/Home-work/HBX-01/deu-hbx/pages/login/login.vue?fbca","webpack:///E:/P11/home-work/Home-work/HBX-01/deu-hbx/pages/login/login.vue?c1d3","webpack:///E:/P11/home-work/Home-work/HBX-01/deu-hbx/pages/login/login.vue?75a9","uni-app:///pages/login/login.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,4F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkEnnB,6F;AACA;AACA,MADA,kBACA;AACA;AACA,uBADA,EACA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,sBAHA,EAFA;;AAOA,kBAPA,CAOA;AAPA;AASA,GAXA;AAYA;AACA;AACA,cAFA,wBAEA;AACA;AACA,gBADA;;AAGA,KANA;;AAQA;AACA,iBATA,2BASA;AACA;AACA,uBADA;AAEA,mBAFA;;AAIA;AACA,KAfA;;AAiBA;AACA,aAlBA,uBAkBA;;AAEA,2BAFA;AAGA;AACA,2CADA;AAEA,8BAFA,GAHA;;;;AASA,oBATA,GASA,sCATA,EASA;AACA,uCAVA,CAUA;AAVA,yCAWA,mCAXA,QAWA,GAXA;AAYA;AACA,6CAbA,CAaA;AACA,kCAdA,CAcA;AACA,0DAfA,CAeA;AAfA;AAiBA,yCAjBA;;AAmBA,kCAnBA;;AAqBA,KAvCA;;AAyCA;AACA,kBA1CA,4BA0CA;;AAEA,oBAFA,GAEA,wCAFA,EAEA;AAFA,0CAGA,oCAHA,QAGA,GAHA;AAIA;AACA;AACA,+BADA;AAEA,8BAFA;;AAIA,0CATA,CASA;AACA,mCAVA,CAUA;;AAEA;AACA;AACA,0BADA,IAbA;;;;AAkBA;AACA,0CAnBA;;AAqBA,kCArBA;;;AAwBA,KAlEA;;AAoEA;AACA,eArEA,uBAqEA,KArEA,EAqEA;AACA;AACA;AACA,6CADA;;AAGA;AACA;AACA,KA5EA;;;AA+EA;AACA,aAhFA,uBAgFA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,sBAHA;;AAKA,KAtFA;;AAwFA;AACA,qBAzFA,+BAyFA;AACA;AACA,KA3FA;;AA6FA;AACA,kBA9FA,0BA8FA,CA9FA,EA8FA;AACA;AACA;AACA;AACA,KAlGA,EAZA;;;;AAkHA,QAlHA,oBAkHA,EAlHA,E","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 登录 -->\r\n\t<view class=\"content\">\r\n\t\t<!-- 返回上页 -->\r\n\t\t<view class=\"login-bg pt-3 pl-3\" @click=\"handleBack\">\r\n\t\t\t<!-- back -->\r\n\t\t\t<uni-icons type=\"back\" color=\"#fff\" size=\"20\"></uni-icons>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"login-box\">\r\n\t\t\t<view class=\"login-title\">{{pageType==='login'?'登 录': '注 册'}}</view>\r\n\r\n\t\t\t<!-- 表单 -->\r\n\t\t\t<!-- <form @submit=\"handleToLogin\"> -->\r\n\t\t\t<view class=\"flex mr-1 mb-2 form-icon p-2 rounded\">\r\n\t\t\t\t<uni-icons type=\"person\" size=\"22\" class=\"mr-2\"></uni-icons>\r\n\t\t\t\t<input class=\"uni-input\" name=\"username\" v-model.trim=\"formData.username\" placeholder=\"请输入用户名\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"mb-2 flex form-icon p-2 rounded\">\r\n\t\t\t\t<uni-icons type=\"locked\" size=\"22\" class=\"mr-2\"></uni-icons>\r\n\t\t\t\t<input class=\"uni-input\" name=\"password\" v-model.trim=\"formData.password\" placeholder=\"请输入密码\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"mb-2 flex form-icon p-2 rounded\" v-if=\"pageType==='reg'\">\r\n\t\t\t\t<uni-icons type=\"locked\" size=\"22\" class=\"mr-2\"></uni-icons>\r\n\t\t\t\t<input class=\"uni-input\" name=\"repassword\" v-model.trim=\"formData.repassword\" placeholder=\"确认密码\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"uni-btn-v\">\r\n\t\t\t\t<button form-type=\"submit\" class=\"btn-color\"\r\n\t\t\t\t\t@click=\"handleToLogin\">{{pageType==='login'?'登 录': '注 册'}}</button>\r\n\t\t\t</view>\r\n\t\t\t<!-- </form> -->\r\n\r\n\t\t\t<!--忘记密码  -->\r\n\t\t\t<view class=\"flex align-center justify-between my-3 font \">\r\n\t\t\t\t<text class=\"py-3 text-main\" @click=\"handleSwitchState\">{{pageType==='login'?'注册账号': '去登陆'}}</text>\r\n\t\t\t\t<text class=\"py-3 text-light-muted\">忘记密码？</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- icon -->\r\n\t\t\t<view class=\" flex align-center justify-center wechatlogin\">\r\n\t\t\t\t<uni-icons custom-prefix=\"iconfont\" class=\"icon-box\" type=\"icon-weixin\" size=\"28\" color=\"#5ccc84\">\r\n\t\t\t\t</uni-icons>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 用户协议 -->\r\n\t\t\t<view class=\"flex align-center justify-center mt-4\" v-if=\"pageType==='login'\">\r\n\t\t\t\t<checkbox-group @change=\"handleCheckbox\">\r\n\t\t\t\t\t<label class=\" text-light-muted\">\r\n\t\t\t\t\t\t<checkbox value=\"cb\" :checked=\"check\" />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</checkbox-group>\r\n\t\t\t\t<text class=\"font ml-1 text-light-muted\">已阅读并同意用户协议&隐私声明</text>\r\n\t\t\t</view>\r\n\r\n\r\n\t\t</view>\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// 接口 \r\n\timport UserModel from '@/model/userModel.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpageType: 'login', // 切换状态\r\n\t\t\t\tformData: { // 表单\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\trepassword: ''\r\n\t\t\t\t},\r\n\t\t\t\tcheck: false, //复选框\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 返回上页\r\n\t\t\thandleBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 点击登录\r\n\t\t\thandleToLogin() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '提交中···',\r\n\t\t\t\t\tmask: false\r\n\t\t\t\t})\r\n\t\t\t\tthis.pageType === 'login' ? this.signLogin() : this.handleRegister()\r\n\t\t\t},\r\n\r\n\t\t\t// 登录\r\n\t\t\tasync signLogin() {\r\n\t\t\t\t// console.log('this.check', this.check);\r\n\t\t\t\tif (!this.check) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请先阅读并同意用户协议&隐私声明',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst data = this.lodash.cloneDeep(this.formData) //深拷贝\r\n\t\t\t\t\tdelete data.repassword // 删除验证密码\r\n\t\t\t\t\tconst res = await UserModel.getToLogin(data)\r\n\t\t\t\t\t// console.log('登录', res);\r\n\t\t\t\t\tthis.phoneNumber(res.phone) //  判断 手机号\r\n\t\t\t\t\tthis.formReset() //清空\r\n\t\t\t\t\tthis.$store.dispatch('setUserInfo', res) //存本地\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 注册\r\n\t\t\tasync handleRegister() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst data = this.lodash.cloneDeep(this.formData) //深拷贝\r\n\t\t\t\t\tconst res = await UserModel.getRegister(data)\r\n\t\t\t\t\t// console.log('注册', res);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '注册成功',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.pageType = 'login' //切换登录\r\n\t\t\t\t\tthis.formReset() //清空\r\n\r\n\t\t\t\t\t// 返回上一页\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta: 2\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t// 判断 手机号\r\n\t\t\tphoneNumber(phone) {\r\n\t\t\t\tif (!phone) {\r\n\t\t\t\t\tuni.navigateTo({ // 跳转\r\n\t\t\t\t\t\turl: '/pages/bind-phone/bind-phone'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 表单清空  \r\n\t\t\tformReset() {\r\n\t\t\t\tthis.formData = {\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\trepassword: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//  切换状态\r\n\t\t\thandleSwitchState() {\r\n\t\t\t\tthis.pageType = this.pageType === 'login' ? 'reg' : 'login'\r\n\t\t\t},\r\n\r\n\t\t\t// 复选框状态 切换\r\n\t\t\thandleCheckbox(e) {\r\n\t\t\t\t// console.log('e', e.detail.value.length);\r\n\t\t\t\tthis.check = !(!e.detail.value.length)\r\n\t\t\t\t// console.log('this.check', this.check);\r\n\t\t\t},\r\n\r\n\r\n\t\t},\r\n\t\tonLoad() {}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n// this.$refs[ref].validate().then(res => {\r\n// console.log('success', res);\r\n// uni.showToast({\r\n// title: `校验通过`\r\n// })\r\n// }).catch(err => {\r\n// console.log('err', err);\r\n// })\r\n\r\n\r\n<!-- 效验 -->\r\n// password: [{\r\n// required: true,\r\n// errMessage: '请输入密码'\r\n// },\r\n// // {minLength:5,pattem:/^[1]([3-9])[0-9]{9}$/,errMessage:'密码不合法'},\r\n// ]\r\n\r\n\r\n<!-- 表单 验证 -->\r\n<!-- required 星号显示 必填 -->\r\n<!-- <uni-forms :modelValue=\"loginFormData\" :rules=\"rules\" label-position=\"top\" ref=\"loginForm\">\r\n\r\n\t\t\t\t<uni-easyinput class=\"input\" :clearable=\"false\" prefixIcon=\"person\" type=\"text\" :inputBorder=\"false\"\r\n\t\t\t\t\tv-model.trim=\"loginFormData.username\" placeholder=\"请输入用户名\" />\r\n\r\n\t\t\t\t<uni-easyinput class=\"input\" :clearable=\"false\" prefixIcon=\"locked\" :inputBorder=\"false\" passwordIcon\r\n\t\t\t\t\ttype=\"password\" v-model.trim=\"loginFormData.password\" placeholder=\"请输入密码\" />\r\n\r\n\t\t\t\t<uni-easyinput v-if=\"flag\" class=\"input\" :clearable=\"false\" prefixIcon=\"locked\" :inputBorder=\"false\"\r\n\t\t\t\t\tpasswordIcon type=\"password\" v-model.trim=\"loginFormData.repassword\" placeholder=\"确认密码\" />\r\n\r\n\t\t\t\t<button type=\"primary\" class=\"mt-2\" @click=\"handleToLogin(flag)\">{{flag?'注册': '登录'}}</button>\r\n\t\t\t</uni-forms> -->\n"],"sourceRoot":""}